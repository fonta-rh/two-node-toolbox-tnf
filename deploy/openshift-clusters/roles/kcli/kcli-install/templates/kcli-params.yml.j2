# kcli OpenShift deployment parameters for Two-Node {{ topology|title }}
# Generated by ansible kcli-install role

# Cluster identification
cluster: {{ test_cluster_name }}
domain: {{ domain }}
topology: {{ topology }}
network_type: {{ cluster_network_type }}

# OpenShift version
version: {{ ocp_version }}
tag: '{{ ocp_tag }}'
{% if openshift_release_image != "" %}
openshift_release_image: {{ openshift_release_image }}
{% endif %}
{% if ocp_version == "ci" and not openshift_ci and ci_token != "" %}
ci_token: {{ ci_token }}
{% endif %}
{% if openshift_ci %}
openshift_ci: true
{% endif %}

# Two-node cluster configuration with fencing
ctlplanes: {{ ctlplanes }}
workers: {{ workers }}

# Virtual machine specifications
memory: {{ vm_memory }}
numcpus: {{ vm_numcpus }}
disk_size: {{ vm_disk_size }}

# Network configuration
network: {{ network_name }}
{% if api_ip != "" %}
api_ip: {{ api_ip }}
{% endif %}
{% if ingress_ip != "" %}
ingress_ip: {{ ingress_ip }}
{% endif %}

# Authentication
pull_secret: {{ pull_secret_path }}
keys:
  - {{ ssh_public_key_path }}

# BMC/Redfish configuration
bmc_user: {{ bmc_user }}
bmc_password: {{ bmc_password }}
bmc_driver: {{ bmc_driver }}
ksushy_ip: {{ ksushy_ip }}
ksushy_port: {{ ksushy_port }}

# Topology-specific configuration
{% if topology == "arbiter" %}
enable_arbiter: {{ enable_arbiter }}
arbiter_memory: {{ arbiter_memory }}
{% endif %}

# Deployment settings
threaded: {{ kcli_threaded | lower }}
async: {{ kcli_async | lower }}

# Feature set (automatically configured based on topology)
featureSet: {{ feature_set }}

# Additional cluster configuration
autostart: true
notify: false 